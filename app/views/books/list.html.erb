<div class="page-content">
  <%= form_with url: books_list_path, method: :get, local: true, class: "search-form" do %>
    <input type="text" name="q" value="<%= params[:q] %>" placeholder="Suche nach Titel, Autor, Inhalt oder Standort..." class="form-control" />
    <button type="submit" class="btn btn-primary">Suchen</button>
  <% end %>

  <table class="books-table">
    <thead>
      <tr>
        <th class="col-title">Titel</th>
        <th class="col-author">Autor</th>
        <th class="col-location">Standort</th>
        <th class="col-status">Status</th>
        <th class="col-actions"></th>
      </tr>
    </thead>
    <tbody>
      <% @books.each do |book| %>
        <tr>
          <td><%= book.title %></td>
          <td><%= book.author %></td>
          <td><%= book.location %></td>
          <td>
            <% if book.respond_to?(:borrowed) && book.borrowed %>
              <span class="status status-borrowed">ausgeliehen</span>
            <% else %>
              <span class="status status-available">ausleihbar</span>
            <% end %>
          </td>
          <td>
            <div class="table-actions">
              <%= link_to '✏️', edit_book_path(book), class: 'btn btn-warning btn-xs', title: 'Ändern' %>
              <%= link_to '👁️', book_path(book), class: 'btn btn-success btn-xs', title: 'Anzeigen' %>
              <%= link_to '🗑️', book_path(book), method: :delete, data: { confirm: 'Möchtest du dieses Buch wirklich löschen?' }, class: 'btn btn-danger btn-xs', title: 'Löschen' %>
            </div>
          </td>
        </tr>
      <% end %>
    </tbody>
  </table>
</div>
